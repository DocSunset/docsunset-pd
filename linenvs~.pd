#N canvas 0 19 1680 1001 12;
#X obj 637 2 inlet~ time;
#X obj 804 640 savestate;
#X obj 881 611 f;
#X obj 899 528 r \$0-target;
#X obj 908 555 r \$0-targetcv;
#X obj 935 578 r \$0-time;
#X obj 962 601 r \$0-timecv;
#X obj 804 735 s \$0-targetrestore;
#X obj 835 758 s \$0-targetcvrestore;
#X obj 868 783 s \$0-timerestore;
#X obj 899 807 s \$0-timecvrestore;
#X obj 106 522 hsl 128 15 0 127 0 0 \$0-target \$0-targetrestore target
2 8 0 10 #fcfcfc #7c7c7c #000000 0 1;
#X obj 106 562 hsl 128 15 0 127 0 0 \$0-time \$0-timerestore time 2
8 0 10 #fcfcfc #7c7c7c #000000 0 1;
#X obj 106 582 hsl 128 15 0 127 0 0 \$0-timecv \$0-timecvrestore time-cv
2 8 0 10 #fcfcfc #ff8300 #000000 0 1;
#X obj 106 542 hsl 128 15 0 127 0 0 \$0-targetcv \$0-targetcvrestore
target-cv 2 8 0 10 #fcfcfc #ff8300 #000000 0 1;
#X obj 142 468 r \$0-gate;
#X obj 142 501 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 225 597 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 282 619 r \$0-end-gate;
#X obj 145 39 inlet~ gate;
#X obj 259 464 outlet~ end_of_envelope;
#X obj 146 66 threshold~ 0.66 0 0.33 0;
#X msg 178 123 1;
#X msg 218 123 0;
#X obj 178 148 s \$0-gate;
#X obj 61 38 inlet~ sum;
#X obj 61 402 outlet~ sum;
#X obj 146 93 t b b;
#X obj 146 176 s \$0-trigger;
#X obj 61 316 +~, f 23;
#X obj 301 127 s \$0-stop;
#X obj 301 91 t b b;
#X obj 881 678 pack f f f f, f 18;
#X obj 804 711 unpack f f f f, f 22;
#X obj 603 259 r \$0-trigger;
#X obj 618 319 snapshot~;
#X obj 707 319 snapshot~;
#X obj 502 292 snapshot~;
#X obj 603 284 t b b b;
#X obj 568 82 *~;
#X obj 577 29 r \$0-targetcv;
#X obj 577 54 / 127;
#X obj 608 96 r \$0-target;
#X obj 608 121 / 127;
#X obj 558 2 inlet~ yt;
#X obj 558 111 +~;
#X obj 709 77 *~;
#X obj 709 110 +~;
#X obj 727 25 r \$0-timecv;
#X obj 758 92 r \$0-time;
#X obj 759 117 - 64;
#X obj 727 50 - 64;
#X obj 694 179 mtof~;
#X obj 640 177 sig~ 1;
#X obj 701 145 *~ -1;
#X obj 272 344 *~;
#X obj 159 252 r \$0-gate;
#X obj 62 282 expr~ if($f2 \, 0 \, $v1);
#X obj 261 284 r \$0-gate;
#X obj 502 349 expr if ($f1 > 0 && $f2 < $f3 \, ($f3-$f2)/$f1 \, if
($f1 < 0 && $f2 > $f3 \, ($f3-$f2)/$f1 \, -($f3-$f2)/$f1)), f 36;
#X obj 502 502 line~;
#X obj 501 443 pack f f f;
#X msg 501 468 \$2 \, \$3 \$1;
#X obj 763 508 del;
#X obj 763 533 1;
#X obj 805 509 r \$0-gate;
#X obj 805 534 sel 0;
#X obj 805 559 0;
#X obj 763 590 s \$0-end-gate;
#X obj 259 408 r \$0-end-gate;
#X obj 259 433 sig~;
#X obj 503 407 * 1000;
#X text 312 686 I would have liked to implement this as a filter over
the increment per sample \, but it's tricky to do in pd...;
#X connect 0 0 46 0;
#X connect 1 0 33 0;
#X connect 1 1 2 0;
#X connect 2 0 32 0;
#X connect 3 0 2 1;
#X connect 4 0 32 1;
#X connect 5 0 32 2;
#X connect 6 0 32 3;
#X connect 15 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 21 0;
#X connect 21 0 27 0;
#X connect 21 1 31 0;
#X connect 22 0 24 0;
#X connect 23 0 24 0;
#X connect 25 0 57 0;
#X connect 25 0 35 0;
#X connect 27 0 22 0;
#X connect 27 1 28 0;
#X connect 29 0 26 0;
#X connect 31 0 23 0;
#X connect 31 1 30 0;
#X connect 32 0 1 0;
#X connect 33 0 7 0;
#X connect 33 1 8 0;
#X connect 33 2 9 0;
#X connect 33 3 10 0;
#X connect 34 0 38 0;
#X connect 35 0 59 1;
#X connect 35 0 61 1;
#X connect 36 0 59 2;
#X connect 36 0 61 2;
#X connect 37 0 59 0;
#X connect 38 0 37 0;
#X connect 38 1 35 0;
#X connect 38 2 36 0;
#X connect 39 0 45 0;
#X connect 40 0 41 0;
#X connect 41 0 39 1;
#X connect 42 0 43 0;
#X connect 43 0 45 1;
#X connect 44 0 39 0;
#X connect 45 0 36 0;
#X connect 46 0 47 0;
#X connect 47 0 54 0;
#X connect 48 0 51 0;
#X connect 49 0 50 0;
#X connect 50 0 47 1;
#X connect 51 0 46 1;
#X connect 52 0 37 0;
#X connect 54 0 52 0;
#X connect 55 0 29 1;
#X connect 56 0 57 1;
#X connect 57 0 29 0;
#X connect 58 0 55 1;
#X connect 59 0 71 0;
#X connect 60 0 55 0;
#X connect 61 0 62 0;
#X connect 62 0 60 0;
#X connect 63 0 64 0;
#X connect 64 0 68 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 69 0 70 0;
#X connect 70 0 20 0;
#X connect 71 0 61 0;
#X connect 71 0 63 0;
#X coords 0 -1 1 1 140 115 1 100 500;
